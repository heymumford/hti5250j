<?xml version="1.0"?>
<!DOCTYPE module PUBLIC
    "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN"
    "https://checkstyle.org/dtds/configuration_1_3.dtd">

<!--
    Checkstyle configuration for HTI5250J Headless Edition.
    Pragmatic ruleset for a legacy codebase under active modernization.
    Matches .editorconfig: 4-space indent, UTF-8.
    Naming patterns are relaxed to accommodate legacy conventions:
    - camelCase constants (initAttr, dupChar)
    - leading underscores (_instance, _loggers)
    - snake_case locals/params (col_width, is_last_page)
    - PascalCase methods (GetScreen) from upstream API
-->
<module name="Checker">
    <property name="charset" value="UTF-8"/>
    <property name="severity" value="warning"/>
    <property name="fileExtensions" value="java"/>

    <module name="SuppressionFilter">
        <property name="file" value="${config_loc}/suppressions.xml"/>
        <property name="optional" value="true"/>
    </module>

    <!-- File-level checks -->
    <module name="FileTabCharacter">
        <property name="eachLine" value="true"/>
        <property name="severity" value="warning"/>
    </module>

    <module name="NewlineAtEndOfFile">
        <property name="severity" value="warning"/>
    </module>

    <module name="FileLength">
        <property name="max" value="3000"/>
        <property name="severity" value="warning"/>
    </module>

    <module name="LineLength">
        <property name="max" value="150"/>
        <property name="ignorePattern" value="^package.*|^import.*|href|http://|https://|ftp://"/>
        <property name="severity" value="warning"/>
    </module>

    <module name="TreeWalker">
        <!-- Naming: relaxed for legacy (camelCase constants, underscores, PascalCase methods) -->
        <module name="ConstantName">
            <property name="format" value="^[A-Z][A-Z0-9]*(_[A-Za-z0-9]+)*$|^[a-z][a-zA-Z0-9]*$|^_[a-zA-Z][a-zA-Z0-9]*$"/>
            <property name="severity" value="warning"/>
        </module>
        <module name="LocalVariableName">
            <property name="format" value="^[a-zA-Z_][a-zA-Z0-9_]*$"/>
            <property name="severity" value="warning"/>
        </module>
        <module name="MemberName">
            <property name="format" value="^[a-zA-Z_][a-zA-Z0-9_]*$"/>
            <property name="severity" value="warning"/>
        </module>
        <module name="MethodName">
            <property name="format" value="^[a-zA-Z][a-zA-Z0-9_]*$"/>
            <property name="severity" value="warning"/>
        </module>
        <module name="PackageName">
            <property name="severity" value="warning"/>
        </module>
        <module name="ParameterName">
            <property name="format" value="^[a-zA-Z_][a-zA-Z0-9_]*$"/>
            <property name="severity" value="warning"/>
        </module>
        <module name="StaticVariableName">
            <property name="format" value="^[a-zA-Z_][a-zA-Z0-9_]*$"/>
            <property name="severity" value="warning"/>
        </module>
        <module name="TypeName">
            <property name="format" value="^[a-zA-Z][a-zA-Z0-9]*$"/>
            <property name="severity" value="warning"/>
        </module>

        <!-- Imports -->
        <module name="RedundantImport">
            <property name="severity" value="warning"/>
        </module>
        <module name="UnusedImports">
            <property name="severity" value="warning"/>
        </module>

        <!-- Size violations - relaxed for legacy -->
        <module name="MethodLength">
            <property name="max" value="200"/>
            <property name="severity" value="warning"/>
        </module>
        <module name="ParameterNumber">
            <property name="max" value="10"/>
            <property name="severity" value="warning"/>
        </module>

        <!-- Whitespace -->
        <module name="GenericWhitespace">
            <property name="severity" value="warning"/>
        </module>
        <module name="NoWhitespaceAfter">
            <property name="severity" value="warning"/>
        </module>
        <module name="NoWhitespaceBefore">
            <property name="severity" value="warning"/>
        </module>
        <module name="WhitespaceAround">
            <property name="allowEmptyConstructors" value="true"/>
            <property name="allowEmptyMethods" value="true"/>
            <property name="allowEmptyTypes" value="true"/>
            <property name="allowEmptyLoops" value="true"/>
            <property name="severity" value="warning"/>
        </module>

        <!-- Coding -->
        <module name="EmptyStatement">
            <property name="severity" value="warning"/>
        </module>
        <module name="EqualsHashCode">
            <property name="severity" value="warning"/>
        </module>
        <module name="SimplifyBooleanExpression">
            <property name="severity" value="warning"/>
        </module>
        <module name="SimplifyBooleanReturn">
            <property name="severity" value="warning"/>
        </module>
        <module name="StringLiteralEquality">
            <property name="severity" value="warning"/>
        </module>
        <module name="MissingSwitchDefault">
            <property name="severity" value="warning"/>
        </module>
        <module name="OneStatementPerLine">
            <property name="severity" value="warning"/>
        </module>

        <!-- Block checks -->
        <module name="AvoidNestedBlocks">
            <property name="severity" value="warning"/>
        </module>
        <module name="EmptyBlock">
            <property name="option" value="TEXT"/>
            <property name="severity" value="warning"/>
        </module>
        <module name="LeftCurly">
            <property name="severity" value="warning"/>
        </module>
        <module name="NeedBraces">
            <property name="severity" value="warning"/>
        </module>
        <module name="RightCurly">
            <property name="severity" value="warning"/>
        </module>

        <!-- Modifiers -->
        <module name="ModifierOrder">
            <property name="severity" value="warning"/>
        </module>
        <module name="RedundantModifier">
            <property name="severity" value="warning"/>
        </module>

        <!-- Annotations -->
        <module name="MissingOverride">
            <property name="severity" value="warning"/>
        </module>
    </module>
</module>
